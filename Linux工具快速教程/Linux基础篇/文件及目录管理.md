---
title: 文件及目录
date: 2016-08-17 10:58
category:
tags:
---

> 文件管理不外乎文件或目录的创建、删除、查询、移动, 文件查询是重点

## 创建和删除
    删除日志 rm *log (等价: $find ./ -name “*log” -exec rm {} ;)


    $ find DIR          # 递归打印所有文件
    $ find . | wc -l    # 统计的文件总数

## 目录切换
    $ cd -              # 上一个目录

## 列出目录项
    $ ls -lrt           # l: 列表形式输出, r: 逆序, t: 按时间顺序(默认递减, 配合r)
    因为 `cat -n` 可以给每一行加上行号, 所以如下就能对文件做带编号输出
    $ ls | cat -n

    按文件名查找并输出文件信息
    配合更多的正则语法可以完成更多功能
    $ find DIR -name "re.*" | xargs file
    当然了, 通过管道也可以这样
    $ ls | xargs file

    找到文件后也可以直接应用简单的操作
    分号表示子句结束, 反斜杠未知
    $ find DIR -name "*.txt" -exec rm {} \;

    find 执行的是实时查找, 如果需要更快的查询, 可以用locate(会为文件系统建立索引), 不过需要定期为它更新文件索引信息

## 查看文件信息
    显示时同时显示行号
    $ cat -n

    显示开头n行
    $ head -n FILE

    显示文件末尾n行
    $ tail -n FILE

    查看不断更新的文件(比如日志)
    $ tail -f FILE

## 管道和重定位
几个基本的连接词
- 管道连接 |
- 串联: 使用分号 ;
- 前面成功，则执行后面一条，否则，不执行:&&
- 前面失败，则后一条执行: ||

    清空文件
    $ :> FILE
    重定位中 > 和>> 的区别

## 综合
    统计包含A且不包含B的总数
    $ cat -v record.log | grep AAA | grep -v BBB | wc -l
